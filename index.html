<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>儿童识字小报生成器</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>🎨 儿童识字小报生成器</h1>
            <p class="subtitle">让学习更有趣！</p>
        </header>

        <main class="main-content">
            <!-- API Key 输入区 -->
            <section class="card api-key-section">
                <h2>🔑 API 设置</h2>
                <div class="input-group">
                    <label for="apiKey">API Key</label>
                    <input type="password" id="apiKey" placeholder="请输入 OpenRouter API Key">
                    <button class="btn-small" id="toggleApiKey">显示</button>
                </div>
                <p class="hint">💡 获取 API Key: <a href="https://openrouter.ai/keys" target="_blank">https://openrouter.ai/keys</a></p>
            </section>

            <!-- 参数输入区 -->
            <section class="card params-section">
                <h2>📝 小报参数</h2>

                <div class="input-group">
                    <label for="theme">主题/场景</label>
                    <select id="theme">
                        <option value="">请选择主题...</option>
                        <option value="超市">超市</option>
                        <option value="医院">医院</option>
                        <option value="公园">公园</option>
                        <option value="学校">学校</option>
                        <option value="动物园">动物园</option>
                        <option value="图书馆">图书馆</option>
                        <option value="地铁站">地铁站</option>
                        <option value="餐厅">餐厅</option>
                        <option value="custom">自定义...</option>
                    </select>
                    <input type="text" id="customTheme" placeholder="请输入自定义主题" style="display: none;">
                </div>

                <div class="input-group">
                    <label for="title">小报标题</label>
                    <input type="text" id="title" placeholder="例如：走进超市、快乐医院">
                </div>

                <div class="input-group">
                    <label for="imageRatio">图片比例</label>
                    <select id="imageRatio">
                        <option value="3:4" selected>3:4 (竖版 A4)</option>
                        <option value="4:5">4:5</option>
                        <option value="9:16">9:16</option>
                        <option value="1:1">1:1 (正方形)</option>
                    </select>
                </div>

                <button class="btn-primary" id="generateBtn">
                    <span class="btn-text">✨ 生成识字小报</span>
                    <span class="btn-loading" style="display: none;">生成中...</span>
                </button>
            </section>

            <!-- 状态显示区 -->
            <section class="card status-section" id="statusSection" style="display: none;">
                <div class="status-loading">
                    <div class="spinner"></div>
                    <p class="status-text">正在生成识字小报，请稍候...</p>
                    <p class="status-hint">这可能需要 30-60 秒</p>
                </div>
            </section>

            <!-- 结果展示区 -->
            <section class="card result-section" id="resultSection" style="display: none;">
                <h2>🎉 生成完成！</h2>
                <div class="image-preview">
                    <img id="resultImage" alt="生成的识字小报">
                </div>
                <div class="result-actions">
                    <button class="btn-secondary" id="downloadBtn">⬇️ 下载图片</button>
                    <button class="btn-secondary" id="regenerateBtn">🔄 重新生成</button>
                </div>
            </section>

            <!-- 错误显示区 -->
            <section class="card error-section" id="errorSection" style="display: none;">
                <h2>❌ 生成失败</h2>
                <p class="error-message" id="errorMessage"></p>
                <button class="btn-secondary" id="retryBtn">🔄 重试</button>
            </section>
        </main>

        <footer class="footer">
            <p>使用 OpenRouter AI 模型生成 | 适合 5-9 岁儿童识字学习</p>
        </footer>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
